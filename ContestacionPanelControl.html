<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Respuesta Panel Control</title>
    <link rel="shortcut icon" href="./assets/images/lg_seccion.jpg" type="image/x-icon">
    <script src="./assets/js/SesionUser.js"></script>
    <script src="./assets/js/MenuContenido.js"></script>
    <script src="./assets/js/MenuSistema.js"></script>

    <script type="module" src="./assets/js/Contestacion.js"></script>

    <!-- Bootstrap 5 (CSS + Bundle con Popper) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery (necesario para DataTables) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- DataTables -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <!-- QRCode Generator -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <!-- Descarga de EXCEL -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
    <!-- Estilos Personalizados  lugar si importa-->
    <link rel="stylesheet" href="./assets/css/TesoreriaStyle.css">
</head>

<body>
    <header>
        <img src="./assets/images/lg_banner.jpg" alt="Logo" class="logo" style="width: 30%; height: 50%;">
        <h1>Sistema Institucional</h1>
    </header>

    <nav class="navbar navbar-expand-lg">
    </nav>

    <main>
        <h1 class="mb-4">Listado de Respuestas</h1>
        <div class="table-responsive">
            <div class="col-12 d-flex justify-content-between">
                <button id="crearContestacion" class="btn btn-primary toggleButton">Nuevo Registro</button>
                <button id="descargarExcelOficios" class="btn btn-primary toggleButton">Descargar Excel</button>
            </div>
            <table id="tableContestaciones" class="table table-bordered table-hover display nowrap" style="width:100%">
                <thead>
                    <tr>
                        <th>Acciones</th>                        
                        <th>Comentario</th>
                        <th>ArchivoAdjunto</th>
                        <th>ID_RegistroOficios</th>
                        <th>FechaRegistro</th>
                        <th>TipoOficio</th>
                        <th>NumeroOficio</th>
                        <th>FechaRetroactivo</th>
                        <th>DirigidoA</th>
                        <th>Asunto</th>
                        <th>Institucion</th>
                        <th>Solicita</th>
                        <th>FolioInterno</th>
                        <th>Estado</th>
                        <th>FechaEntregaDGAnalista</th>
                        <th>Concepto</th>
                        <th>RespuestaA</th>
                        <th>Monto</th>
                        <th>FechaRecepcionDependencia</th>
                        <th>FechaEntregaAnalistaOperador</th>
                        <th>UsuarioRegistro</th>
                        <th>FechaActualizacion</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Filas generadas dinámicamente -->
                </tbody>
            </table>
        </div>
    </main>

    <!-- Modal para mostrar el comentario completo -->
    <div class="modal fade" id="comentarioModal" tabindex="-1" role="dialog" aria-labelledby="comentarioModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="comentarioModalLabel">Comentario Completo</h5>
                </div>
                <div class="modal-body">
                    <!-- El comentario completo se insertará aquí -->
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <p>© 2025 Sistema PagoTrack - Gestión de Pagos</p>
    </footer>
</body>

</html>